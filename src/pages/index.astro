---
export const prerender = false;
const languages = ["pl", "en", "de"];

function getBrowserLang(acceptLanguage: (typeof languages)[number]) {
  const browserLang = acceptLanguage.split(",")[0].trim().split("-")[0].toLowerCase();
  return languages.includes(browserLang) ? browserLang : "pl";
}

const browserLang = getBrowserLang(Astro.request.headers.get("accept-language") || "");

return Astro.redirect(`/${browserLang}`);
---
