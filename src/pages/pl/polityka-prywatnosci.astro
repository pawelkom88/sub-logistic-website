---
import { getCollection } from "astro:content";
import Policy from "../../components/policy/Policy.astro";
import Layout from "../../layouts/Layout.astro";
import {
  getCountryCode,
  getCurrentLanguageTranslation,
} from "../../utils/utils";

const privacyPolicyAndTermsCollection = await getCollection(
  "privacyPolicyAndTermsOfUse",
);

const translations = await getCurrentLanguageTranslation(
  getCountryCode(Astro.url.pathname),
);

const { policy } = await getCurrentLanguageTranslation(
  getCountryCode(Astro.url.pathname),
  privacyPolicyAndTermsCollection,
);
---

<Layout
  contactBtn={translations.contactBtn}
  contact={translations.contact}
  links={translations.nav.links}
  footer={translations.footer}
  title="Sub Logistics Gdańsk – Polityka prywatności"
  description="Zasady przetwarzania danych osobowych w Serwisie Sub Logistics, w tym informacje o formularzach (kontakt, wycena) i plikach cookies. Dbamy o prywatność i przechowujemy dane tylko tak długo, jak to konieczne."
>
  <Policy policy={policy} />
</Layout>
