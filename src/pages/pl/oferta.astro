---
import Layout from "../../layouts/Layout.astro";
import "../../styles/oferta.css";
import {
  getCountryCode,
  getCurrentLanguageTranslation,
} from "../../utils/utils";
import truck from "../../assets/images/truck.png";
import Image from "astro/components/Image.astro";

const lang = getCountryCode(Astro.url.pathname);
const translations = await getCurrentLanguageTranslation(lang);
const offer = translations?.offer ?? { title: "", items: [] as { lead: string; text?: string }[] };
const items = offer?.items ?? [] as { lead: string; text?: string }[];
const mid = Math.ceil(items.length / 2);
const group1 = items.slice(0, mid);
const group2 = items.slice(mid);
---

<Layout
  contactBtn={translations.contactBtn}
  contact={translations.contact}
  links={translations.nav.links}
  footer={translations.footer}
  title={offer?.title ?? "Oferta"}
  description={offer?.title ?? "Oferta"}
>
  <section id="why-choose-1662">
    <div class="cs-container">
      <div class="cs-content">
        <h2 class="cs-title">{offer?.title ?? ""}</h2>
      </div>
      <div class="cs-wrapper">
        <ul class="cs-card-group">
          {
            group1.map((item, idx) => (
              <li class="cs-item">
                <span class="cs-item-number">
                  {String(idx + 1).padStart(2, "0")}
                </span>
                <div class="cs-item-wrapper">
                  <p class="cs-item-text">
                    <strong class="cs-item-lead">{item.lead}</strong>{item.text ? ` ${item.text}` : ""}
                  </p>
                </div>
              </li>
            ))
          }
        </ul>
        <ul class="cs-card-group">
          {
            group2.map((item, idx) => (
              <li class="cs-item">
                <span class="cs-item-number">
                  {String(idx + 1 + group1.length).padStart(2, "0")}
                </span>
                <div class="cs-item-wrapper">
                  <p class="cs-item-text">
                    <strong class="cs-item-lead">{item.lead}</strong>{item.text ? ` ${item.text}` : ""}
                  </p>
                </div>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
    <br />
    <br />
    <br />
    <div class="cs-container">
      <div class="cs-content">
        <h2 class="cs-title">DostÄ™pne formy transportu</h2>
      </div>
    </div>
    <br />
    <section id="timetable-1731">
      <div class="cs-container">
        <div class="cs-table-list">
          <table class="cs-table">
            <thead>
              <tr>
                <th scope="col" colspan="2">Truck</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="2">
                  <Image
                    width="360"
                    height="230"
                    src={truck}
                    alt="Truck"
                  />
                </td>
              </tr>
            </tbody>
          </table>
          <table class="cs-table">
            <thead>
              <tr>
                <th scope="col" colspan="2">Tuesday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="2">
                  <Image
                    width="360"
                    height="230"
                    src={truck}
                    alt="Truck"
                  />
                </td>
              </tr>
            </tbody>
          </table>
          <table class="cs-table">
            <thead>
              <tr>
                <th scope="col" colspan="2">Wednesday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="2">
                  <Image
                    width="360"
                    height="230"
                    src={truck}
                    alt="Truck"
                  />
                </td>
              </tr>
            </tbody>
          </table>
          <table class="cs-table">
            <thead>
              <tr>
                <th scope="col" colspan="2">Thursday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="2">
                  <Image
                    width="360"
                    height="230"
                    src={truck}
                    alt="Truck"
                  />
                </td>
              </tr>
            </tbody>
          </table>
          <table class="cs-table">
            <thead>
              <tr>
                <th scope="col" colspan="2">Friday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="2">
                  <!--todo:aspect ration or object fit cover-->
                  <Image
                    width="360"
                    height="230"
                    src={truck}
                    alt="Truck"
                  />
                </td>
              </tr>
            </tbody>
          </table>
          <table class="cs-table">
            <thead>
              <tr>
                <th scope="col" colspan="2">Saturday</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="2">
                  <Image
                    width="360"
                    height="230"
                    src={truck}
                    alt="Truck"
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </section>
</Layout>
