---
import { getCollection } from "astro:content";
import Policy from "../../components/policy/Policy.astro";
import Layout from "../../layouts/Layout.astro";
import {
  getCountryCode,
  getCurrentLanguageTranslation,
} from "../../utils/utils";

const privacyPolicyAndTermsCollection = await getCollection(
  "privacyPolicyAndTermsOfUse",
);

const translations = await getCurrentLanguageTranslation(
  getCountryCode(Astro.url.pathname),
);

const { policy } = await getCurrentLanguageTranslation(
  getCountryCode(Astro.url.pathname),
  privacyPolicyAndTermsCollection,
);
---

<Layout
  contactBtn={translations.contactBtn}
  contact={translations.contact}
  links={translations.nav.links}
  footer={translations.footer}
  title="Sub Logistic Gdańsk – Datenschutzrichtlinie"
  description="Grundsätze der Verarbeitung personenbezogener Daten auf der Website von Sub Logistic, einschließlich Informationen zu Formularen (Kontakt, Angebot) und Cookies. Wir achten auf Datenschutz und speichern Daten nur so lange wie nötig."
>
  <Policy policy={policy} />
</Layout>
