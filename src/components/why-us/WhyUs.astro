---
import { Picture } from "astro:assets";
import whyUsImage from "../../assets/images/Container-on-the-big-highway.webp";
import whyUsImage3 from "../../assets/images/White-Lorries-Passing-Highway.webp";
import whyUsImage2 from "../../assets/images/White-Scania-R-Semi-Truck.webp";
import { type SelectedTranslation, getCountryCode } from "../../utils/utils";
import "./whyus.css";

interface Props {
  whyUs: SelectedTranslation["whyUs"];
}

const { whyUs } = Astro.props;

// Offer/Services localized slug and text
const lang = getCountryCode(Astro.url.pathname);
const offerSlugMap = {
  en: "/services",
  pl: "/oferta",
  de: "/leistungen",
} as const;
const historySlugMap = {
  en: "/about-us",
  pl: "/o-nas",
  de: "/ueber-uns",
} as const;
const offerTextMap = {
  en: "Services",
  pl: "Oferta",
  de: "Leistungen",
} as const;
const historyTextMap = {
  en: "Discover our history",
  pl: "Nasza historia",
  de: "Unsere Geschichte entdecken",
} as const;
const offerHref = `/${lang}${offerSlugMap[lang]}`;
const historyHref = `/${lang}${historySlugMap[lang]}`;
const offerText = offerTextMap[lang];
const historyText = historyTextMap[lang];
const why1AltMap = {
  en: "Aerial view of a large logistics warehouse",
  de: "Luftaufnahme eines großen Logistiklagers",
  pl: "Widok z lotu ptaka na duży magazyn logistyczny",
} as const;
const why2AltMap = {
  en: "Drone view of lorries parked in a warehouse yard",
  de: "Drohnenansicht von LKWs, die in einem Lagerhof parken",
  pl: "Ujęcie z drona ciężarówek zaparkowanych na placu magazynowym",
} as const;
const why3AltMap = {
  en: "Stacks of containers at a busy port",
  de: "Containerstapel in einem geschäftigen Hafen",
  pl: "Stosy kontenerów w ruchliwym porcie",
} as const;
---

<section id="sbsr-516">
  <div class="cs-container">
    <div class="cs-content">
      <span class="cs-topper">{whyUs?.topper}</span>
      <h2 class="cs-title">{whyUs?.heading}</h2>
      {
        whyUs?.description.map((p) => (
          <p class="cs-text">{p.paragraph}</p>
        ))
      }
      <div class="cs-button-group">

      <a href={offerHref} class="cs-button-solid">{offerText}</a>
      <a href={historyHref} class="cs-button-solid"
      >{historyText}</a
      >
      </div>
    </div>
    <div class="cs-image-group">
      <ul class="cs-stat-group">
        {
          whyUs?.stats.map((stat) => (
            <li class="cs-stat">
              <span class="cs-number">{stat.number}</span>
              <span class="cs-desc">{stat.title}</span>
            </li>
          ))
        }
      </ul>
      <div class="grid">
        <div class="cs-picture-1">
          <Picture
            width="630"
            height="461"
            src={whyUsImage}
            class="cs-picture"
            alt={why1AltMap[lang]}
            formats={["avif", "webp"]}
            loading="lazy"
            decoding="async"
            fetchpriority="low"
            sizes="(max-width: 768px) 100vw, 630px"
          />
        </div>
        <div class="cs-picture-2">
          <Picture
            width="630"
            height="461"
            src={whyUsImage2}
            class="cs-picture xxx"
            alt={why2AltMap[lang]}
            formats={["avif", "webp"]}
            loading="lazy"
            decoding="async"
            fetchpriority="low"
            sizes="(max-width: 768px) 100vw, 630px"
          />
        </div>
        <div class="cs-picture-3">
          <Picture
            width="630"
            height="461"
            src={whyUsImage3}
            class="cs-picture"
            alt={why3AltMap[lang]}
            formats={["avif", "webp"]}
            loading="lazy"
            decoding="async"
            fetchpriority="low"
            sizes="(max-width: 768px) 100vw, 630px"
          />
        </div>
      </div>
    </div>
  </div>
</section>
